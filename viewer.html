<!DOCTYPE html>
<html>
<head>
  <title>View Updates</title>
  <style>
    body { font-family: Arial; background: #121212; color: white; }
    .update-container { background: transparent; padding: 20px; max-width: 600px; margin: auto; }
    .update-box { margin-bottom: 10px; padding: 15px; border-radius: 8px; color: black; }
    .red { background-color: #ff9999; }
    .yellow { background-color: #ffff99; }
  </style>
</head>
<body>
  <h2 style="text-align:center;">Latest Updates</h2>
  <div class="update-container" id="updates"></div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCQ492BiasyGJyXPQcm-2TFAeWdZybScz0",
      authDomain: "website-updates-485ea.firebaseapp.com",
      databaseURL: "https://website-updates-485ea-default-rtdb.firebaseio.com",
      projectId: "website-updates-485ea",
      storageBucket: "website-updates-485ea.firebasestorage.app",
      messagingSenderId: "184900273791",
      appId: "1:184900273791:web:5a28c7ac05587b2f79a14a",
      measurementId: "G-VXNTBEKM3W"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const updatesRef = ref(db, 'updates');

    onValue(updatesRef, (snapshot) => {
      const updates = [];
      snapshot.forEach(child => {
        updates.push(child.val());
      });

      updates.sort((a, b) => b.timestamp - a.timestamp);
      const container = document.getElementById('updates');
      container.innerHTML = '';
      updates.slice(0, 10).forEach((update, index) => {
        const div = document.createElement('div');
        div.className = `update-box ${index % 2 === 0 ? 'red' : 'yellow'}`;
        div.innerHTML = `<strong>Update #${index + 1}</strong><br>${update.content}`;
        container.appendChild(div);
      });
    });
  </script>
</body>
</html>
