<html>
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7SV03ZXJ9R">
        </script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-7SV03ZXJ9R');
        </script>
        <title>
            Infinite Campus
        </title>
        <link id="dynamic-favicon" rel="icon" type="image/png" href="https://codehs.com/uploads/f111a37947de2cea81db858094c04f2d">
        <link rel="stylesheet" href="global.min.css">
        <meta name="keywords" content="Infinite campus,infinite campus,Infinite Campus,infinite Campus">
        <meta name="description" content="Infinite Campus Is A International Buisiness And Has Good Devs">
        <meta property="og:title" content="Infinite Campus">
        <meta property="og:description" content="Infinite Campus Is An International Buisiness And Has Good Devs">
        <meta property="og:url" content="https://ryann-4.github.io/InfiniteCampus/">
        <meta name="theme-color" content="#8cbe37">
        <meta content="https://codehs.com/uploads/30883de2def50482be6e6fb25ea68477" property="og:image">
        <script src="main.js">
        </script>
        <script src="drypopup.js">
        </script>
        <script src="global.js">
        </script>
        <style>
            input {
                display:none;
            }
        </style>
    </head>
    <body>
        <center>
            <br>
            <input style="width:50vw; display:none;" id="noteInput" type="text" placeholder="Enter Note Here" class="button">
            <button style="display:none" class="button" id="saveBtn">
            </button>
            <br>
            <br>
            <h2 class="tptxt">
                Stuff To Hopefully Be Added Soon
            </h2>
            <br>
            <div style="width:50vw;" class="notes" id="notesContainer">
            </div>
        </center>
        <script>
            import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getDatabase, ref, push, onValue, remove } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-analytics.js";
    const firebaseConfig = {
      apiKey: "Google_Api_Key",
      authDomain: "notes-27f22.firebaseapp.com",
      databaseURL: "https://notes-27f22-default-rtdb.firebaseio.com",
      projectId: "notes-27f22",
      storageBucket: "notes-27f22.appspot.com",
      messagingSenderId: "424229778181",
      appId: "1:424229778181:web:fa531219ed165346fa7d6c",
      measurementId: "G-834FYV6VTR"
    };
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getDatabase(app);
    const noteInput = document.getElementById('noteInput');
    const saveBtn = document.getElementById('saveBtn');
    const notesContainer = document.getElementById('notesContainer');
    function saveNote() {
      const text = noteInput.value.trim();
      if (text) {
        push(ref(db, 'notes'), { text });
        noteInput.value = '';
      }
    }
    saveBtn.addEventListener('click', saveNote);
    noteInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        saveNote();
      }
    });
    onValue(ref(db, 'notes'), (snapshot) => {
      notesContainer.innerHTML = '';
      snapshot.forEach((child) => {
        const note = child.val();
        const key = child.key;
        const div = document.createElement('div');
        div.className = 'note';
        div.innerHTML = `
          <div class="txt">${note.text}</div>
          <button class="delete-btn" data-key="${key}">Delete</button>
        `;
        notesContainer.appendChild(div);
      });
      document.querySelectorAll('.delete-btn').forEach(button => {
        button.addEventListener('click', () => {
          const key = button.getAttribute('data-key');
          remove(ref(db, 'notes/' + key));
        });
      });
    });
        </script>
        <script src="notes.js">
        </script>
        <script src="header.js">
        </script>
    </body>
</html>
