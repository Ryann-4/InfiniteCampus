<html>
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7SV03ZXJ9R">
        </script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-7SV03ZXJ9R');
        </script>
        <title>
            Infinite Campus
        </title>
        <link id="dynamic-favicon" rel="icon" type="image/png" href="https://codehs.com/uploads/f111a37947de2cea81db858094c04f2d">
        <link rel="stylesheet" href="global.css">
        <meta name="keywords" content="Infinite campus,infinite campus,Infinite Campus,infinite Campus">
        <meta name="description" content="Infinite Campus Is A International Buisiness And Has Good Devs">
        <meta property="og:title" content="Infinite Campus">
        <meta property="og:description" content="Infinite Campus Is An International Buisiness And Has Good Devs">
        <meta property="og:url" content="https://ryann-4.github.io/InfiniteCampus/">
        <meta name="theme-color" content="#8cbe37">
        <meta content="https://codehs.com/uploads/30883de2def50482be6e6fb25ea68477" property="og:image">
        <script src="main.js">
        </script>
        <script src="drypopup.js">
        </script>
        <script src="theme.js">
        </script>
    </head>
    <body>
        <center>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
        </center>
        <script src="frame.js">
        </script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";

  // Config (Realtime DB requires databaseURL)
  const firebaseConfig = {
    apiKey: "AIzaSyCUdhMpGKx5wgTGChO5y6lD6Hj3j1JKVUM",
    authDomain: "websitestats-b7d1a.firebaseapp.com",
    databaseURL: "https://websitestats-b7d1a-default-rtdb.firebaseio.com",  <!-- ðŸ”‘ add this from Firebase console -->
    projectId: "websitestats-b7d1a",
    storageBucket: "websitestats-b7d1a.firebasestorage.app",
    messagingSenderId: "379238712007",
    appId: "1:379238712007:web:cf481fbade6d1f60f5f4e2"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  function sendDataToRealtimeDB() {
    const savedInput   = localStorage.getItem('savedInput') || null;
    const chatLoggedIn = localStorage.getItem('chat_logged_in') || null;
    const useGradient  = localStorage.getItem('useGradient') || null;
    const city         = sessionStorage.getItem('city') || null;
    const state        = sessionStorage.getItem('state') || null;

    const data = {
      savedInput,
      chatLoggedIn,
      useGradient,
      city,
      state,
      timestamp: Date.now()
    };

    push(ref(db, "collectedData"), data)
      .then(() => console.log("Data sent:", data))
      .catch(err => console.error("Error sending:", err));
  }

  window.addEventListener("DOMContentLoaded", sendDataToRealtimeDB);
</script>

    </body>
</html>