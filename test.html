<html>
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7SV03ZXJ9R">
        </script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-7SV03ZXJ9R');
        </script>
        <title>
            Infinite Campus
        </title>
        <link id="dynamic-favicon" rel="icon" type="image/png" href="https://codehs.com/uploads/f111a37947de2cea81db858094c04f2d">
        <link rel="stylesheet" href="global.min.css">
        <meta name="keywords" content="Infinite campus,infinite campus,Infinite Campus,infinite Campus">
        <meta name="description" content="Infinite Campus Is A International Buisiness And Has Good Devs">
        <meta property="og:title" content="Infinite Campus">
        <meta property="og:description" content="Infinite Campus Is An International Buisiness And Has Good Devs">
        <meta property="og:url" content="https://ryann-4.github.io/InfiniteCampus/">
        <meta name="theme-color" content="#8cbe37">
        <meta content="https://codehs.com/uploads/30883de2def50482be6e6fb25ea68477" property="og:image">
        <script src="main.js">
        </script>
        <script src="title.js">
        </script>
        <script src="global.js">
        </script>
        <script src="buttons.js">
        </script>
    </head>
    <body>
        <br>
        <br>
        <br>
        <center>
  <h1>Discord Server Info</h1>
  <div id="server" class="server-info">
    <p>Loading...</p>
  </div>
  <script>
    const serverContainer = document.getElementById('server');

    fetch('https://discord.com/api/guilds/1002698920809463808/widget.json')
      .then(response => {
        if (!response.ok) {
          throw new Error("Widget not enabled or guild ID invalid.");
        }
        return response.json();
      })
      .then(data => {
        const serverName = data.name;
        const presenceCount = data.presence_count;
        const inviteLink = data.instant_invite;
        const members = data.members;

        serverContainer.innerHTML = `
          <h2>${serverName}</h2>
          <p><strong>Online Members:</strong> ${presenceCount}</p>
          <p><a href="${inviteLink}" target="_blank">Join Server</a></p>
          <h3>Online Users:</h3>
          <ul>
            ${members.map(m => `<li>${m.username} (${m.status})</li>`).join('')}
          </ul>
        `;
      })
      .catch(error => {
        serverContainer.innerHTML = `<p class="error">Error: ${error.message}</p>`;
      });
  </script>
        </center>
        <script src="footer.js">
        </script>
        <script src="header.js">
        </script>
    </body>
</html>